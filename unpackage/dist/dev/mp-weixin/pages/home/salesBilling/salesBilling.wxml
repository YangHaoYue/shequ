<view class="data-v-3b040018"><u-cell-group vue-id="257c83ee-1" class="data-v-3b040018" bind:__l="__l" vue-slots="{{['default']}}"><navigator open-type="navigate" url="/pages/home/salesBilling/customerList/customerList" class="data-v-3b040018"><u-cell-item vue-id="{{('257c83ee-2')+','+('257c83ee-1')}}" title="销售客户" value="{{customer.name||''}}" class="data-v-3b040018" bind:__l="__l"></u-cell-item></navigator><u-cell-item vue-id="{{('257c83ee-3')+','+('257c83ee-1')}}" title="结算方式" value="{{settleWay}}" data-event-opts="{{[['^click',[['e0']]]]}}" bind:click="__e" class="data-v-3b040018" bind:__l="__l"></u-cell-item><u-cell-item vue-id="{{('257c83ee-4')+','+('257c83ee-1')}}" title="销售员" value="{{salesman}}" data-event-opts="{{[['^click',[['e1']]]]}}" bind:click="__e" class="data-v-3b040018" bind:__l="__l"></u-cell-item><u-cell-item vue-id="{{('257c83ee-5')+','+('257c83ee-1')}}" title="销售途径" value="{{salesChannels}}" data-event-opts="{{[['^click',[['e2']]]]}}" bind:click="__e" class="data-v-3b040018" bind:__l="__l"></u-cell-item><u-cell-item vue-id="{{('257c83ee-6')+','+('257c83ee-1')}}" title="配送方式" value="{{delivery}}" data-event-opts="{{[['^click',[['e3']]]]}}" bind:click="__e" class="data-v-3b040018" bind:__l="__l"></u-cell-item><u-cell-item vue-id="{{('257c83ee-7')+','+('257c83ee-1')}}" title="销售时间" value="{{date}}" data-event-opts="{{[['^click',[['e4']]]]}}" bind:click="__e" class="data-v-3b040018" bind:__l="__l"></u-cell-item></u-cell-group><block wx:if="{{delivery_id==2}}"><view class="u-p-30 solid-bottom data-v-3b040018"><view class="u-flex u-p-b-20 data-v-3b040018"><view class="u-m-r-20 data-v-3b040018">快递面单照</view></view><u-upload vue-id="257c83ee-8" action="{{action}}" file-list="{{fileList}}" show-progress="{{true}}" header="{{header}}" deletable="{{true}}" height="170rpx" max-count="{{1}}" data-ref="uUpload" data-event-opts="{{[['^onListChange',[['onListChange']]]]}}" bind:onListChange="__e" class="data-v-3b040018 vue-ref" bind:__l="__l"></u-upload></view></block><block wx:if="{{integral_on!=0}}"><view class="u-flex u-row-between u-p-30 solid-bottom data-v-3b040018"><view class="data-v-3b040018"><view class="data-v-3b040018">积分兑换</view><view class="text-sm text-gray data-v-3b040018">{{"客户拥有积分："+integral+",可抵扣"+(integral_yuan||0)+"元"}}</view></view><input class="u-text-right data-v-3b040018" adjust-position="true" disabled="{{edit_good_data==0}}" type="number" placeholder="输入积分数量" data-event-opts="{{[['input',[['__set_model',['','user_integral','$event',[]]]]]]}}" value="{{user_integral}}" bindinput="__e"/></view></block><view class="u-p-l-30 u-p-t-30 u-p-r-30 data-v-3b040018"><view class="u-flex u-row-between u-p-b-30 data-v-3b040018"><view class="data-v-3b040018">销售商品(右滑删除商品)</view><block wx:if="{{edit_good_data==1}}"><navigator class="u-p-l-10 u-p-r-10 u-p-t-5 addIcon data-v-3b040018" open-type="navigate" url="/pages/home/salesBilling/goodsList/goodsList"><u-icon vue-id="257c83ee-9" name="plus" color="#fff" size="22rpx" class="data-v-3b040018" bind:__l="__l"></u-icon></navigator></block></view><view class="cu-list menu-avatar data-v-3b040018"><block wx:for="{{goodsList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><block wx:if="{{goodsList.length!=0}}"><view class="{{['cu-item data-v-3b040018',modalName=='move-box-'+index?'move-cur':'']}}" style="height:100% !important;" data-target="{{'move-box-'+index}}" data-event-opts="{{[['touchstart',[['ListTouchStart',['$event']]]],['touchmove',[['ListTouchMove',['$event']]]],['touchend',[['ListTouchEnd',['$event']]]]]}}" bindtouchstart="__e" bindtouchmove="__e" bindtouchend="__e"><view class="bg-white u-p-t-20 u-p-b-20 u-flex u-col-top solid-bottom data-v-3b040018"><u-image vue-id="{{'257c83ee-10-'+index}}" src="{{$root.g0+item.pic}}" width="159rpx" height="159rpx" class="data-v-3b040018" bind:__l="__l"></u-image><view class="u-m-l-20 flex data-v-3b040018" style="flex-direction:column;width:510rpx;"><view class="u-line-1 text-bold text-black u-font-30 u-m-b-20 data-v-3b040018">{{item.title}}</view><view class="u-line-1 text-gray u-font-22 data-v-3b040018" style="margin-bottom:auto;">{{item.store_no+" / "+item.date_in}}</view><view class="u-flex u-row-between u-m-t-20 text-black data-v-3b040018"><view class="text-bold u-font-36 u-flex data-v-3b040018"><text class="data-v-3b040018">￥</text><u-input bind:input="__e" style="width:200rpx;" vue-id="{{'257c83ee-11-'+index}}" disabled="{{edit_good_data==0}}" placeholder="请输入价格" height="80rpx" type="digit" border="{{true}}" value="{{item.cost_price}}" data-event-opts="{{[['^input',[['__set_model',['$0','cost_price','$event',[]],[[['goodsList','',index]]]]]]]}}" class="data-v-3b040018" bind:__l="__l"></u-input></view><u-number-box bind:input="__e" vue-id="{{'257c83ee-12-'+index}}" disabled="{{edit_good_data==0}}" value="{{item.number}}" data-event-opts="{{[['^input',[['__set_model',['$0','number','$event',[]],[[['goodsList','',index]]]]]]]}}" class="data-v-3b040018" bind:__l="__l"></u-number-box></view></view></view><view class="move data-v-3b040018"><view data-event-opts="{{[['tap',[['delet',[index]]]]]}}" class="bg-red data-v-3b040018" bindtap="__e">删除</view></view></view></block></block></view><block wx:if="{{goodsList.length!=0}}"><view class="u-flex u-row-between u-p-t-30 u-p-b-30 solid-bottom data-v-3b040018"><view class="data-v-3b040018">调整后总价</view><view class="data-v-3b040018">{{"￥"+totalPrice}}</view></view></block><block wx:if="{{goodsList.length!=0}}"><view class="u-flex justify-end u-p-t-30 u-p-b-30 data-v-3b040018"><view class="data-v-3b040018">{{"共"+totalNumber+"件"}}</view><view class="data-v-3b040018">{{"￥"+totalPrice}}</view></view></block></view><u-gap vue-id="257c83ee-13" height="30" bg-color="#F5F5F5" class="data-v-3b040018" bind:__l="__l"></u-gap><view class="u-p-30 solid-bottom data-v-3b040018"><block wx:if="{{showTextArea}}"><u-input vue-id="257c83ee-14" type="textarea" focus="{{true}}" height="100" placeholder="请填写综合描述(留空，自动生成描述)" value="{{textAreaValue}}" data-event-opts="{{[['^blur',[['hideTextArea']]],['^confirm',[['hideTextArea']]],['^input',[['__set_model',['','textAreaValue','$event',[]]]]]]}}" bind:blur="__e" bind:confirm="__e" bind:input="__e" class="data-v-3b040018" bind:__l="__l"></u-input></block><block wx:else><view data-event-opts="{{[['tap',[['inputTextArea',['$event']]]]]}}" class="u-p-t-6 data-v-3b040018" style="{{'height:100rpx;'+('color:'+(textAreaValue==''?'#CCC4CF':'#333333')+';')}}" bindtap="__e">{{textAreaValue||"请填写综合描述(留空，自动生成描述)"}}</view></block></view><u-gap vue-id="257c83ee-15" height="30" bg-color="#F5F5F5" class="data-v-3b040018" bind:__l="__l"></u-gap><view class="cu-tabbar-height data-v-3b040018"></view><view class="saveBtn u-text-center bg-white u-flex u-row-between solid-top data-v-3b040018"><view class="u-p-25 data-v-3b040018">合计<text class="u-font-30 u-type-error data-v-3b040018">{{"￥"+totalPrice}}</text></view><block wx:if="{{order_id==0}}"><view data-event-opts="{{[['tap',[['submit',['$event']]]]]}}" class="u-p-25 u-p-l-50 u-p-r-50 text-white data-v-3b040018" style="background-color:#FE8702;" bindtap="__e">开单</view></block><block wx:else><view data-event-opts="{{[['tap',[['setting',['$event']]]]]}}" class="u-p-25 u-p-l-50 u-p-r-50 text-white data-v-3b040018" style="background-color:#FE8702;" bindtap="__e">编辑</view></block></view><u-toast vue-id="257c83ee-16" data-ref="uToast" class="data-v-3b040018 vue-ref" bind:__l="__l"></u-toast><u-select vue-id="257c83ee-17" confirmColor="#FE8702" value-name="id" label-name="name" mode="single-column" list="{{salesmanList}}" value="{{showSalesmanList}}" data-event-opts="{{[['^confirm',[['chooseSalesman']]],['^input',[['__set_model',['','showSalesmanList','$event',[]]]]]]}}" bind:confirm="__e" bind:input="__e" class="data-v-3b040018" bind:__l="__l"></u-select><u-select vue-id="257c83ee-18" confirmColor="#FE8702" value-name="id" label-name="val" mode="single-column" list="{{settleList}}" value="{{showSettleList}}" data-event-opts="{{[['^confirm',[['chooseSettle']]],['^input',[['__set_model',['','showSettleList','$event',[]]]]]]}}" bind:confirm="__e" bind:input="__e" class="data-v-3b040018" bind:__l="__l"></u-select><u-select vue-id="257c83ee-19" confirmColor="#FE8702" value-name="id" label-name="val" mode="single-column" list="{{salesChannelsList}}" value="{{showSalesChannelsList}}" data-event-opts="{{[['^confirm',[['chooseChannelsList']]],['^input',[['__set_model',['','showSalesChannelsList','$event',[]]]]]]}}" bind:confirm="__e" bind:input="__e" class="data-v-3b040018" bind:__l="__l"></u-select><u-select vue-id="257c83ee-20" confirmColor="#FE8702" value-name="id" label-name="val" mode="single-column" list="{{deliveryList}}" value="{{showDeliveryList}}" data-event-opts="{{[['^confirm',[['choosedDelivery']]],['^input',[['__set_model',['','showDeliveryList','$event',[]]]]]]}}" bind:confirm="__e" bind:input="__e" class="data-v-3b040018" bind:__l="__l"></u-select><u-calendar vue-id="257c83ee-21" btn-type="warning" active-bg-color="#FE8702" mode="date" min-date="{{toDay}}" max-date="2050-12-31" value="{{showDate}}" data-event-opts="{{[['^change',[['dateChange']]],['^input',[['__set_model',['','showDate','$event',[]]]]]]}}" bind:change="__e" bind:input="__e" class="data-v-3b040018" bind:__l="__l"></u-calendar></view>