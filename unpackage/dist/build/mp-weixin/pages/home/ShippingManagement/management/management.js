(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/home/ShippingManagement/management/management"],{"09c2":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return u})),n.d(e,"a",(function(){return o}));var o={uSearch:function(){return n.e("uview-ui/components/u-search/u-search").then(n.bind(null,"143d"))},uImage:function(){return n.e("uview-ui/components/u-image/u-image").then(n.bind(null,"0e5c"))},uSticky:function(){return n.e("uview-ui/components/u-sticky/u-sticky").then(n.bind(null,"8072"))},uPopup:function(){return n.e("uview-ui/components/u-popup/u-popup").then(n.bind(null,"089a"))},card:function(){return n.e("components/card/card").then(n.bind(null,"bc44"))},uRow:function(){return n.e("uview-ui/components/u-row/u-row").then(n.bind(null,"5fa6"))},uCol:function(){return n.e("uview-ui/components/u-col/u-col").then(n.bind(null,"5d8b"))},uIcon:function(){return n.e("uview-ui/components/u-icon/u-icon").then(n.bind(null,"0922"))},uLine:function(){return n.e("uview-ui/components/u-line/u-line").then(n.bind(null,"2cae"))},formList:function(){return n.e("components/form-list/form-list").then(n.bind(null,"9a28"))},uGap:function(){return n.e("uview-ui/components/u-gap/u-gap").then(n.bind(null,"3be9"))},goodList:function(){return n.e("components/good-list/good-list").then(n.bind(null,"a545"))},uButton:function(){return n.e("uview-ui/components/u-button/u-button").then(n.bind(null,"4d2a"))},uEmpty:function(){return n.e("uview-ui/components/u-empty/u-empty").then(n.bind(null,"6c67"))},uLoadmore:function(){return n.e("uview-ui/components/u-loadmore/u-loadmore").then(n.bind(null,"d4ea"))},uMask:function(){return n.e("uview-ui/components/u-mask/u-mask").then(n.bind(null,"001e"))},uToast:function(){return n.e("uview-ui/components/u-toast/u-toast").then(n.bind(null,"1922"))}},i=function(){var t=this,e=t.$createElement,n=(t._self._c,t.__map(t.popupList,(function(e,n){var o=t.__get_orig(e),i=t.__map(e.list,(function(n,o){var i=t.__get_orig(n),u=t.judge(e.selected,n.id);return{$orig:i,m0:u}}));return{$orig:o,l0:i}})));t._isMounted||(t.e0=function(e){t.show=!0}),t.$mp.data=Object.assign({},{$root:{l1:n}})},u=[]},"255c":function(t,e,n){"use strict";(function(t){n("2cfb");o(n("66fd"));var e=o(n("2cb5"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},"2cb5":function(t,e,n){"use strict";n.r(e);var o=n("09c2"),i=n("e339");for(var u in i)"default"!==u&&function(t){n.d(e,t,(function(){return i[t]}))}(u);n("bf5e");var s,c=n("f0c5"),r=Object(c["a"])(i["default"],o["b"],o["c"],!1,null,"be488e2c",null,!1,o["a"],s);e["default"]=r.exports},"7ca5":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=function(){n.e("components/good-list/good-list").then(function(){return resolve(n("a545"))}.bind(null,n)).catch(n.oe)},i=function(){n.e("components/top-nav/top-nav").then(function(){return resolve(n("5f09"))}.bind(null,n)).catch(n.oe)},u=function(){n.e("components/card/card").then(function(){return resolve(n("bc44"))}.bind(null,n)).catch(n.oe)},s=function(){n.e("components/form-list/form-list").then(function(){return resolve(n("9a28"))}.bind(null,n)).catch(n.oe)},c={components:{goodList:o,topNav:i,card:u,formList:s},onLoad:function(t){this.store_house_id=t.id,this.screen.currentIndex=t.type,this.getScreenData(),this.getInfo()},onShow:function(){var e=this;t.$on("chooseBrand",(function(n){var o=e.popupList[0].list.some((function(t){return t.id===n.item.id}));o||e.popupList[0].list.push(n.item),console.log(n),e.popupList[0].selected=n.item.id,t.$off("chooseBrand")})),t.$on("chooseCustomer",(function(n){e.fromList[0].value=n.item.name,e.fromList[0].id=n.item.id,t.$off("chooseCustomer")})),t.$on("chooseEmployees1",(function(n){e.fromList[1].value=n.item.name,e.fromList[1].id=n.item.id,t.$off("chooseEmployees1")}))},onReachBottom:function(){var t=this;this.page>=this.last_page||(this.status="loading",this.page=++this.page,setTimeout((function(){t.getInfo()}),100))},data:function(){return{store_house_id:"",keyword:"",screen:{currentIndex:0,list:[{name:"未发货",status:0},{name:"已发货",status:1}]},show:!1,popupList:[{name:"品牌",selected:"",isBrand:!0,list:[]},{name:"一级分类",selected:"",isBrand:!1,list:[]},{name:"二级分类",selected:"",isBrand:!1,list:[]}],fromList:[{type:"picker",name:"相关客户",value:"",id:"",url:"/pages/home/salesBilling/customerList/customerList",isImport:!1}],page:1,last_page:"",goodList:[],status:"loading",iconType:"flower",loadText:{loadmore:"轻轻上拉",loading:"努力加载中",nomore:"实在没有了"}}},methods:{getScreenData:function(){var t=this;this.http.get("/api/v1/Index/getScreenData",{},!0).then((function(e){1e3==e.code&&(t.popupList[0].list=e.data.brand,t.popupList[1].list=e.data.top_cate)}))},getScreenCate:function(t){var e=this;this.http.get("/api/v1/Index/getScreenCate",{top_cate_id:t},!0).then((function(t){1e3==t.code&&(e.popupList[2].list=t.data.cate)}))},getInfo:function(){var t=this;this.http.get("/api/v1/Delivery/storeHouseDeliveryLists",{keyword:this.keyword,store_house_id:this.store_house_id,delivery_status:this.screen.currentIndex,brand_id:this.popupList[0].selected,top_cate_id:this.popupList[1].selected||0,cate_id:this.popupList[2].selected,user_id:this.fromList[0].id,page:this.page},!0).then((function(e){1e3==e.code?(0==t.goodList.length?(t.goodList=e.data.delivery_data,t.last_page=e.data.last_page):t.goodList=t.goodList.concat(e.data.delivery_data),t.page>=t.last_page?t.status="nomore":t.status="loadmore",t.show=!1):t.$refs.uToast.show({title:e.msg,type:"error",back:!0})}))},clearGoodList:function(){this.show=!1,this.page=1,this.last_page=1,this.goodList=[],this.status="loading",this.getInfo()},judge:function(t,e){return t===e},changeScreen:function(t){this.screen.currentIndex=t.status,this.clearGoodList()},choose:function(t,e,n){1==n&&t.selected!=e.id?this.getScreenCate(e.id):1==n&&t.selected==e.id&&(this.popupList[2].list=[],this.popupList[2].selected=""),t.selected==e.id||t.selected==e?t.selected="":this.$set(t,"selected",e.id||e)},reset:function(){this.show=!1,this.popupList.forEach((function(t){t.selected=""})),this.fromList.forEach((function(t){t.value="",t.id=""})),this.clearGoodList()},send:function(t){var e=this;this.http.modal("提示","确认发货吗？",!0,(function(n){n&&e.http.get("/api/v1/Delivery/delivery",{order_detail_id:t}).then((function(t){1e3==t.code?(e.$refs.uToast.show({title:t.msg,type:"success"}),e.clearGoodList()):e.$refs.uToast.show({title:t.msg,type:"error"})}))}),"#FE8702")}}};e.default=c}).call(this,n("543d")["default"])},b575:function(t,e,n){},bf5e:function(t,e,n){"use strict";var o=n("b575"),i=n.n(o);i.a},e339:function(t,e,n){"use strict";n.r(e);var o=n("7ca5"),i=n.n(o);for(var u in o)"default"!==u&&function(t){n.d(e,t,(function(){return o[t]}))}(u);e["default"]=i.a}},[["255c","common/runtime","common/vendor"]]]);