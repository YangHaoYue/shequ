(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/home/salesReport/orderDetail/orderDetail"],{2829:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={onLoad:function(e){this.order_id=e.id,this.order_no=e.order_no},onShow:function(){this.getInfo()},computed:{totalNumber:function(){var e=0;return this.good_lists.forEach((function(t){e+=t.buy_num})),e}},data:function(){return{order_no:"",status:1,order_id:"",totalPrice:"",good_lists:[],img_delivery:"",priceList:[{name:"商品原总价",price:0},{name:"折扣后总价",price:0},{name:"积分抵扣",price:0},{name:"积分获得",price:0},{name:"成本价",price:0}],infoList:[{name:"销售客户",value:""},{name:"结算方式",value:""},{name:"销售员",value:""},{name:"销售途径",value:""},{name:"配送方式",value:""},{name:"销售时间",value:""},{name:"备注",value:""}],good_id:"",show:!1,costPrice:""}},methods:{getInfo:function(){var e=this;this.http.get("/api/v1/OrderLog/getOrderDetail",{order_id:this.order_id},!0).then((function(t){(t.code=1e3)&&(e.good_lists=t.data.good_lists,e.status=t.data.order_detail.status,e.img_delivery=t.data.order_detail.img_delivery,e.infoList[0].value=t.data.order_detail.customer,e.infoList[1].value=t.data.order_detail.type_pay,e.infoList[2].value=t.data.order_detail.seller,e.infoList[3].value=t.data.order_detail.type_sale,e.infoList[4].value=t.data.order_detail.type_send,e.infoList[5].value=t.data.order_detail.created_at,e.infoList[6].value=t.data.order_detail.remark,e.priceList[0].price="￥"+t.data.order_detail.price,e.priceList[1].price="￥"+t.data.order_detail.deduct_price,e.priceList[2].price="￥"+t.data.order_detail.integral_price,e.priceList[3].price=t.data.order_detail.integral_get,e.priceList[4].price="￥"+t.data.order_detail.cost_price,e.totalPrice=t.data.order_detail.deduct_price)}))},showImgDelivery:function(){e.previewImage({urls:[this.http.resourceUrl()+this.img_delivery]})},print:function(){var e=this;this.http.modal("提示","您要打印销售单吗？",!0,(function(t){t&&e.http.get("/api/v1/Printer/goods",{type:1,order_no:e.order_id}).then((function(t){1e3==t.code?e.$refs.uToast.show({title:t.msg,type:"success"}):e.$refs.uToast.show({title:t.msg,type:"error"})}))}),"#FE8702")},toSetting:function(){e.navigateTo({url:"/pages/home/salesBilling/salesBilling?order_id=".concat(this.order_id)})},showModal:function(e){this.good_id=e,this.show=!0},editOrderCostPrice:function(){var e=this;this.http.post("/api/v1/OrderLog/editGoodCostPrice",{good_id:this.good_id,cost_price:this.costPrice}).then((function(t){1e3===t.code?(e.$refs.uToast.show({title:t.msg,type:"success"}),e.costPrice="",e.getInfo()):(e.good_id="",e.$refs.uToast.show({title:t.msg,type:"error"}))}))},cancelOrder:function(){var t=this;this.http.modal("提示","是否取消订单？",!0,(function(i){i&&t.http.get("/api/v1/Order/cancelOrder",{order_id:t.order_id}).then((function(i){1e3==i.code?(e.$emit("back"),t.$refs.uToast.show({title:i.msg,type:"success",back:!0})):t.$refs.uToast.show({title:i.msg,type:"error"})}))}),"#FE8702")}}};t.default=i}).call(this,i("543d")["default"])},"4b89":function(e,t,i){"use strict";i.r(t);var r=i("b8bf"),o=i("b516");for(var n in o)"default"!==n&&function(e){i.d(t,e,(function(){return o[e]}))}(n);i("e0e7");var a,u=i("f0c5"),d=Object(u["a"])(o["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],a);t["default"]=d.exports},9634:function(e,t,i){"use strict";(function(e){i("2cfb");r(i("66fd"));var t=r(i("4b89"));function r(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,i("543d")["createPage"])},b516:function(e,t,i){"use strict";i.r(t);var r=i("2829"),o=i.n(r);for(var n in r)"default"!==n&&function(e){i.d(t,e,(function(){return r[e]}))}(n);t["default"]=o.a},b8bf:function(e,t,i){"use strict";i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){return r}));var r={uImage:function(){return i.e("uview-ui/components/u-image/u-image").then(i.bind(null,"0e5c"))},uButton:function(){return i.e("uview-ui/components/u-button/u-button").then(i.bind(null,"4d2a"))},uToast:function(){return i.e("uview-ui/components/u-toast/u-toast").then(i.bind(null,"1922"))},uModal:function(){return i.e("uview-ui/components/u-modal/u-modal").then(i.bind(null,"c27e"))},uInput:function(){return Promise.all([i.e("common/vendor"),i.e("uview-ui/components/u-input/u-input")]).then(i.bind(null,"161c"))}},o=function(){var e=this,t=e.$createElement,i=(e._self._c,e.http.resourceUrl()),r=e.img_delivery?e.http.resourceUrl():null;e.$mp.data=Object.assign({},{$root:{g0:i,g1:r}})},n=[]},c860:function(e,t,i){},e0e7:function(e,t,i){"use strict";var r=i("c860"),o=i.n(r);o.a}},[["9634","common/runtime","common/vendor"]]]);