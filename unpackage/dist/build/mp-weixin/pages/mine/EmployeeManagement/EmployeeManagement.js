(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/mine/EmployeeManagement/EmployeeManagement"],{"37fc":function(t,e,n){"use strict";n.r(e);var o=n("8dbb"),r=n("7179");for(var s in r)"default"!==s&&function(t){n.d(e,t,(function(){return r[t]}))}(s);var i,a=n("f0c5"),u=Object(a["a"])(r["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],i);e["default"]=u.exports},"4b88":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=function(){n.e("components/inventory-list/inventory-list").then(function(){return resolve(n("f045"))}.bind(null,n)).catch(n.oe)},r={components:{inventoryList:o},onLoad:function(){this.clearGoodList()},onShow:function(){var e=this;t.$on("emBack",(function(n){console.log("emback"),setTimeout((function(){e.clearGoodList()}),1500),t.$off("emBack")}))},beforeDestroy:function(){t.$off("emBack")},onReachBottom:function(){var t=this;this.page>=this.last_page||(this.status="loading",this.page=++this.page,setTimeout((function(){t.getInfo()}),100))},data:function(){return{screen:{currentIndex:-1,list:[{name:"订单数",status:0},{name:"回收",status:0},{name:"寄卖",status:0}]},last_page:"",page:1,list:[],status:"loading",iconType:"flower",loadText:{loadmore:"轻轻上拉",loading:"努力加载中",nomore:"实在没有了"}}},methods:{getInfo:function(){var t=this;this.http.get("/api/v1/Staff/listsPage",{order_num_order:this.screen.list[0].status,rec_order:this.screen.list[1].status,cons_order:this.screen.list[2].status,page:this.page},!0).then((function(e){if(1e3==e.code){if(0==t.list.length){var n=e.data.user_data.map((function(e){return t._formatData(e)}));t.list=n,t.last_page=e.data.last_page||1}else{var o=e.data.user_data.map((function(e){return t._formatData(e)}));t.list=t.list.concat(o)}t.page>=t.last_page?t.status="nomore":t.status="loadmore"}}))},_formatData:function(t){return{warehouseName:t.name,id:t.id,message:[{title:"订单",value:t.order_num_arr.order_num,url:"/pages/home/salesReport/salesReport?seller_id=".concat(t.order_num_arr.seller_id)},{title:"回收",value:t.recovery_num_arr.recovery_num,url:"/pages/home/history/history?currentIndex=0&recovery_id=".concat(t.recovery_num_arr.recovery_id,"&type_from_arr=").concat(encodeURIComponent(JSON.stringify(t.recovery_num_arr.type_from_arr)))},{title:"寄卖",value:t.consign_num_arr.consign_num,url:"/pages/home/history/history?currentIndex=1&recovery_id=".concat(t.consign_num_arr.recovery_id,"&type_from_arr=").concat(encodeURIComponent(JSON.stringify(t.consign_num_arr.type_from_arr)))}],time:t.last_login}},clearGoodList:function(){this.show=!1,this.page=1,this.last_page=1,this.list=[],this.status="loading",this.getInfo()},changeScreen:function(t){var e=this.screen.currentIndex;if(-1==e){var n=this.screen.list[t];return this.screen.currentIndex=t,n.status=-1,void this.clearGoodList()}var o=this.screen.list[e];if(e===t)return o.status=1===o.status?-1:1,this.clearGoodList();var r=this.screen.list[t];o.status=0,this.screen.currentIndex=t,r.status=-1,this.clearGoodList()},reset:function(){-1!=this.screen.currentIndex&&(this.screen.list[this.screen.currentIndex].status=0),this.clearGoodList()},setting:function(e){t.navigateTo({url:"/pages/mine/EmployeeManagement/addEmployee/addEmployee?user_id=".concat(e)})},delet:function(t){var e=this;this.http.modal("提示","确认要删除该员工吗?",!0,(function(n){n&&e.http.post("/api/v1/Staff/deleteUser",{user_id:t},!0).then((function(t){1e3==t.code?(e.$refs.uToast.show({title:t.msg,type:"success"}),e.clearGoodList()):e.$refs.uToast.show({title:t.msg,type:"error"})}))}),"#FE8702")}}};e.default=r}).call(this,n("543d")["default"])},7179:function(t,e,n){"use strict";n.r(e);var o=n("4b88"),r=n.n(o);for(var s in o)"default"!==s&&function(t){n.d(e,t,(function(){return o[t]}))}(s);e["default"]=r.a},"7e69":function(t,e,n){"use strict";(function(t){n("2cfb");o(n("66fd"));var e=o(n("37fc"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},"8dbb":function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return o}));var o={uSticky:function(){return n.e("uview-ui/components/u-sticky/u-sticky").then(n.bind(null,"8072"))},uIcon:function(){return n.e("uview-ui/components/u-icon/u-icon").then(n.bind(null,"0922"))},inventoryList:function(){return n.e("components/inventory-list/inventory-list").then(n.bind(null,"f045"))},uButton:function(){return n.e("uview-ui/components/u-button/u-button").then(n.bind(null,"4d2a"))},uLoadmore:function(){return n.e("uview-ui/components/u-loadmore/u-loadmore").then(n.bind(null,"d4ea"))},uMask:function(){return n.e("uview-ui/components/u-mask/u-mask").then(n.bind(null,"001e"))},uCalendar:function(){return n.e("uview-ui/components/u-calendar/u-calendar").then(n.bind(null,"6785"))},uToast:function(){return n.e("uview-ui/components/u-toast/u-toast").then(n.bind(null,"1922"))}},r=function(){var t=this,e=t.$createElement;t._self._c},s=[]}},[["7e69","common/runtime","common/vendor"]]]);